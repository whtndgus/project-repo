<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>의사 - 마이페이지</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/newlogo.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="../assets/css/style.css" rel="stylesheet">
  <style>
          .card-body {
        padding: var(--bs-card-spacer-y) var(--bs-card-spacer-x);
      }
      /* 
      #profile-preview {
        min-width: 180px;
        min-height: 218px;
      }

      #profile-detail {
        margin-left: 3rem;
        min-height: 218px;
      } */
    div .row {
      font-size: 20px !important;
      margin-bottom: 40px !important;
    }

    div .row:first-child {
      margin-top: 30px !important;
    }

    /* .doctors-gender {
      margin-left: 60px;
    } */
  </style>
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <a class="logo d-flex align-items-center">
     <!--  <img src="assets/img/newlogo.png" alt=""> -->
      <span class="d-none d-lg-block">P DC</span>
    </a>
   
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div>
    <!-- End Logo -->
    <div class="top-menu">
      <a href="hospitals-list.html" class="nav-link collapsed"><span>병원</span></a>

      <a href="doctors-community-main.html" class="nav-link collapsed"
        ><span>커뮤니티</span></a
      >
    </div>
    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <li class="nav-item dropdown pe-3">
          <a
            class="nav-link nav-profile d-flex align-items-center pe-0"
            href="doctors-profile.html"
          >
            <div id="pre-userimg"></div>
            <span id="username" class="d-none d-md-block ps-2"></span>
          </a>
        </li>
      </ul>
    </nav>
  </header>

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
      <li class="nav-heading">의사 전용 페이지</li>

      <li class="nav-item">
        <a class="nav-link" href="doctors-profile.html">
          <i class="bi bi-person"></i>
          <span>내 정보</span>
        </a>
      </li>
      <!-- End Profile Page Nav -->

      <li class="nav-item">
        <a class="nav-link collapsed" href="doctors-advices.html">
          <i class="bi bi-file-earmark"></i>
          <span>진료하기</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="QnQ-doc.html">
          <i class="bi bi-question-circle"></i>
          <span>문의하기</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="hospitals-view.html">
          <i class="bi bi-card-list"></i>
          <span>내 병원 정보</span>
        </a>
      </li>
      <!-- End Register Page Nav -->

      <!-- 로그아웃 태그 -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
      <li class="nav-item logout">
        <a class="nav-link collapsed">
          <i class="bi bi-box-arrow-in-right"></i>
          <span>로그아웃</span>
        </a>
      </li>
      <!-- End Login Page Nav -->
      <script>
        $(".logout").click(() => {
          console.log(11);
          fetch(`http://175.106.99.31/auth/logout`, {
            method: "GET",
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.status == "success") {
                location.href = "";
              } else {
                alert("로그아웃 실패");
                location.href = "";
              }
            });
        });
      </script>
    </ul>
     <img src="../register/assets/img/mainlogo.png" style="height:150px; margin-top:400px; margin-left:40px;">

  </aside><!-- End Sidebar-->


  <main id="main" class="main">

    <div class="pagetitle">
      <h1>내 정보</h1>
      
    </div><!-- End Page Title -->

    <section class="section profile">
      <div class="row">
        <div class="col-xl-2">

          <div class="card">
            <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">

              <!-- <img src="무직.jpg" alt="Profile" class="rounded-circle doctors-img"> -->
              <div id="preview-container">
                <img id="preview-img" class="doctors-img" src="../assets/img/default_profile.png" />
              </div>
              <h2 class="top-id">id</h2>

            </div>
          </div>

        </div>

        <div class="col-xl-8">

          <div class="card">
            <div class="card-body pt-3">
              <!-- Bordered Tabs -->
              <ul class="nav nav-tabs nav-tabs-bordered">

                <li class="nav-item">
                  <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">개인 정보
                    조회</button>
                </li>

                <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">개인 정보 변경</button>
                </li>

                <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-change-password">비밀번호
                    변경</button>
                </li>
                
                <!-- <li class="nav-item">
                  <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-delete">회원 탈퇴</button>
                </li> -->

              </ul>
              <div class="tab-content pt-2">

                <div class="tab-pane fade show active profile-overview row gx-3" id="profile-overview">

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">이름</div>
                    <div class="col-lg-9 col-md-8 doctors-name"></div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">성별</div>
                    <div class="col-lg-9 col-md-8 doctors-gender"></div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">생년월일</div>
                    <div class="col-lg-9 col-md-8 doctors-birth"></div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">전화 번호</div>
                    <div class="col-lg-9 col-md-8 doctors-tel"></div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">주소</div>
                    <div class="col-lg-9 col-md-8 doctors-addr"></div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">이메일</div>
                    <div class="col-lg-9 col-md-8 doctors-email"></div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">자격</div>
                    <div class="col-lg-9 col-md-8 doctors-license"></div>
                  </div>
                  
                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">학력/경력</div>
                    <div class="col-lg-9 col-md-8 doctors-career"></div>
                  </div>

                  <div class="row">
                    <div class="col-lg-3 col-md-4 label">소속 병원</div>
                    <div class="col-lg-9 col-md-8 doctors-hospital"></div>
                  </div>

                </div>

                <div class="tab-pane fade profile-edit pt-3" id="profile-edit">

                  <!-- Profile Edit Form -->
                  <div>
                    <div class="row mb-3">
                      <label for="profileImage" class="col-md-4 col-lg-3 col-form-label">사진 수정</label>
                      <input type="file" class="form-control change-img" accept="image/*" id="inputGroupFile01"
                        style="width: 300px; height: 38px; margin-left: 12px;">
                    </div>

                    <div class="row mb-3">
                      <label for="name" class="col-md-4 col-lg-3 col-form-label">이름</label>
                      <div class="col-md-8 col-lg-3">
                        <input type="text" class="form-control change-name" id="name">
                      </div>
                    </div>

                    <div class="row mb-3">
                      <label for="birth" class="col-md-4 col-lg-3 col-form-label">생년월일</label>
                      <div class="col-md-8 col-lg-3">
                        <input type="date" class="form-control change-birth" id="birth">
                      </div>
                    </div>

                    <div class="row mb-3">
                      <label for="tel" class="col-md-4 col-lg-3 col-form-label">전화번호</label>
                      <div class="col-md-6 col-lg-3">
                        <input type="text" class="form-control change-tel" id="tel"
                          readonly>
                      </div>
                      <button type="button" onclick="calltel()" class="btn btn-secondary col-md-2" style="height: 90%;">변경 /
                        인증</button>
                    </div>


                    <div class="row mb-3">
                      <label
                        class="col-lg-3 col-form-label"
                        >주소</label
                      >
                      <div class="col-lg-3">
                        <input
                          type="text"
                          class="form-control change-addr"
                          id="postcode"
                          placeholder="우편번호"
                          name="addr"
                          required
                          readonly
                        />
                      </div>
                      <div class="col-lg-3">
                        <input
                          type="button"
                          onclick="execDaumPostcode()"
                          value="우편번호 찾기"
                          class="btn btn-secondary"
                        />
                      </div>
                    </div>

                    <div class="row mb-3">
                      <label
                        class="col-lg-3 col-form-label"
                      ></label>
                      <div class="col-lg-4">
                        <input
                          type="text"
                          id="roadAddress"
                          placeholder="도로명주소"
                          class="form-control change-addr"
                          required
                          readonly
                        />
                      </div>

                      <div class="col-lg-4">
                        <input
                          type="text"
                          id="jibunAddress"
                          placeholder="지번주소"
                          class="form-control change-addr"
                          readonly
                        />
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label
                        class="col-lg-3 col-form-label"
                      ></label>
                      <div class="col-lg-4">
                        <input
                          type="text"
                          id="detailAddress"
                          placeholder="상세주소"
                          class="form-control change-addr"
                          required
                        />
                      </div>

                      <div class="col-lg-4">
                        <input
                          type="text"
                          id="extraAddress"
                          placeholder="참고주소"
                          class="form-control change-addr"
                          readonly
                        />
                      </div>
                    </div>

                    <div class="row mb-3">
                      <label for="email" class="col-md-4 col-lg-3 col-form-label">이메일</label>
                      <div class="col-md-8 col-lg-5">
                        <input type="text" class="form-control change-email" id="email"
                          readonly>
                      </div>
                      <!-- <button type="button" onclick="calltel()" class="btn btn-secondary col-md-2" style="height: 90%;">변경 /
                        인증</button> -->
                    </div>

                    <!-- <div class="row mb-3">
                      <label for="license" class="col-md-4 col-lg-3 col-form-label">자격</label>
                      <div class="col-md-8 col-lg-9">
                        <input type="text" class="form-control change-license" id="license">
                      </div>
                    </div> -->

                    <div class="register-career-list">
                    <div class="row mb-3">
                      <label for="career" class="col-md-4 col-lg-3 col-form-label">학력/경력</label>
                      <!-- <div class="col-md-8 col-lg-8">
                        <input type="text" class="form-control change-career" id="career">
                        나의 학력/경력 목록
                      </div> -->
                      <div class="col-lg-1 btn-list">
                        <button
                          type="button"
                          class="btn btn-outline-primary btn-sm add-career-btn"
                        >
                          ＋
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="row mb-3">
                    <label for="hospital" class="col-md-4 col-lg-3 col-form-label">소속 병원</label>
                    <div class="col-md-6 col-lg-3">
                      <input type="text" class="form-control change-hospital" id="hospital"
                        readonly>
                      <input type="text" class="form-control change-hospitalNo"
                        readonly style="display: none;" value="0">
                    </div>
                    <button type="button" onclick="hospital()" class="btn btn-secondary col-md-2" style="height: 90%;">등록/변경</button>
                  </div>

                    <div class="text-center">
                      <button type="button" class="btn btn-primary change-btn">저장</button>
                    </div>
                  </form><!-- End Profile Edit Form -->

                </div>
                </div>

                <div class="tab-pane fade pt-3" id="profile-change-password">
                  <!-- Change Password Form -->
                  <form>

                    <div class="row mb-3">
                      <label for="currentPassword" class="col-md-4 col-lg-3 col-form-label">현재 비밀번호</label>
                      <div class="col-md-8 col-lg-9">
                        <input name="password" type="password" class="form-control doctors-pw" id="currentPassword" placeholder="8자 이상 숫자, 특수 문자 포함"
                        pattern="^(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$">
                      </div>
                    </div>

                    <div class="row mb-3">
                      <label for="newPassword" class="col-md-4 col-lg-3 col-form-label">새 비밀번호</label>
                      <div class="col-md-8 col-lg-9">
                        <input name="newpassword" type="password" class="form-control change-pw" id="newPassword" placeholder="8자 이상 숫자, 특수 문자 포함"
                        pattern="^(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$"
                          onchange="checkPw()">
                      </div>
                    </div>

                    <div class="row mb-3">
                      <label for="renewPassword" class="col-md-4 col-lg-3 col-form-label">새 비밀번호 확인</label>
                      <div class="col-md-8 col-lg-9">
                        <input name="renewpassword" type="password" class="form-control change-pw-check" placeholder="8자 이상 숫자, 특수 문자 포함"
                        pattern="^(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$"
                          id="renewPassword" onchange="checkPw()">
                      </div>
                    </div>

                    <div class="text-center">
                      <button type="button" class="btn btn-primary change-pw-btn">변경하기</button>
                    </div>
                  </form><!-- End Change Password Form -->

                </div>

                <!-- <div class="tab-pane fade pt-3" id="profile-delete">
                    <div class="member-delete row mb-3 d-flex align-items-center justify-content-center">
                      <div class="col-sm-2">
                        <button type="button" class="btn btn-danger member-delete-btn">
                          회원 탈퇴
                        </button>
                      </div>
                    </div>
                </div> -->

              </div><!-- End Bordered Tabs -->

            </div>
          </div>

        </div>
      </div>
    </section>

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
<div >
 <div class="tooltip-container">
    <a href="https://github.com/whtmdgus" data-bs-toggle="tooltip" data-bs-placement="top" title="조승현">
      <img src="../register/assets/img/gitlogo.png" style="width:40px">
    </a>
    <a href="https://github.com/chaminju927" data-bs-toggle="tooltip" data-bs-placement="top" title="차민주">
      <img src="../register/assets/img/gitlogo.png" style="width:40px">
    </a>
    <a href="https://github.com/molang2" data-bs-toggle="tooltip" data-bs-placement="top" title="이준영">
      <img src="../register/assets/img/gitlogo.png" style="width:40px">
    </a>
    <a href="https://github.com/hyunwookimkim" data-bs-toggle="tooltip" data-bs-placement="top" title="김현우">
      <img src="../register/assets/img/gitlogo.png" style="width:40px">
    </a>
    <a href="https://github.com/omelase" data-bs-toggle="tooltip" data-bs-placement="top" title="이예찬">
      <img src="../register/assets/img/gitlogo.png" style="width:40px">
    </a>
 </div>
 <div class="footer-img-container">
   <img src ="../register/assets/img/bitcamplogo.png" > 
   <img src ="../register/assets/img/navercloudlogo.png" style="width:200px; margin-left: 50px;"> 
   <img src ="../register/assets/img/magicecole.png" style="width:150px; margin-left: 50px;">
  </div>
</div>
  </footer><!-- End Footer -->


  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.umd.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.min.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <!-- 사용자가 추가한 스크립트 -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <script type='text/babel' src="doctors-profile.js"></script>
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <script>
      // 우편번호 주소 검색 API
      function execDaumPostcode() {
        new daum.Postcode({
          oncomplete: function (data) {
            // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

            // 도로명 주소의 노출 규칙에 따라 주소를 표시한다.
            // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
            var roadAddr = data.roadAddress; // 도로명 주소 변수
            var extraRoadAddr = ''; // 참고 항목 변수

            // 법정동명이 있을 경우 추가한다. (법정리는 제외)
            // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
            if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
              extraRoadAddr += data.bname;
            }
            // 건물명이 있고, 공동주택일 경우 추가한다.
            if (data.buildingName !== '' && data.apartment === 'Y') {
              extraRoadAddr +=
                extraRoadAddr !== ''
                  ? ', ' + data.buildingName
                  : data.buildingName;
            }
            // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
            if (extraRoadAddr !== '') {
              extraRoadAddr = ' (' + extraRoadAddr + ')';
            }

            // 우편번호와 주소 정보를 해당 필드에 넣는다.
            document.getElementById('postcode').value = data.zonecode;
            document.getElementById('roadAddress').value = roadAddr;
            document.getElementById('jibunAddress').value = data.jibunAddress;

            // 참고항목 문자열이 있을 경우 해당 필드에 넣는다.
            if (roadAddr !== '') {
              document.getElementById('extraAddress').value = extraRoadAddr;
            } else {
              document.getElementById('extraAddress').value = '';
            }
          },
        }).open();
      }
  </script>


</body>

</html>